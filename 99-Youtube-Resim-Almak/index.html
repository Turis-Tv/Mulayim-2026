<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>YouTube Picture Picker</title>
<style>
  /* Basis */
  :root {
    --bg-overlay: rgba(0,0,0,0.6);
    --primary: #2b79ff;
    --radius: 12px;
    --card-bg: rgba(255,255,255,0.9);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  }
  body {
    margin:0;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background:url("https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-4.0.3&q=80&w=1600&fit=crop") center/cover no-repeat;
  }
  body::before {
    content:"";
    position:fixed;inset:0;
    background:var(--bg-overlay);
  }

  /* Container */
  .app {
    position:relative;
    z-index:1;
    max-width:960px;
    width:100%;
    margin:20px;
    padding:20px;
    background:var(--card-bg);
    border-radius:var(--radius);
    box-shadow:0 10px 25px rgba(0,0,0,0.2);
  }
  h1 {
    margin-top:0;
    font-size:1.5rem;
    color:#111;
    text-align:center;
  }
  p.small {
    font-size:0.9rem;
    color:#444;
    text-align:center;
    margin-bottom:20px;
  }

  /* Input + buttons */
  .row {
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    margin-bottom:16px;
  }
  input[type="text"] {
    flex:1;
    min-width:220px;
    padding:12px;
    border:1px solid #ddd;
    border-radius:var(--radius);
    font-size:1rem;
  }
  button {
    padding:12px 16px;
    border-radius:var(--radius);
    border:none;
    background:var(--primary);
    color:#fff;
    font-weight:600;
    cursor:pointer;
    transition:background 0.2s;
  }
  button:hover { background:#1f5ed0; }

  /* Thumbnails */
  .thumbs {
    display:flex;
    gap:12px;
    flex-wrap:wrap;
    justify-content:center;
  }
  .thumb {
    border:2px solid transparent;
    border-radius:var(--radius);
    overflow:hidden;
    cursor:pointer;
    width:160px;
    background:#fff;
    box-shadow:0 4px 12px rgba(0,0,0,0.1);
    transition:transform 0.2s, border 0.2s;
  }
  .thumb img {
    display:block;
    width:100%;
    height:100px;
    object-fit:cover;
  }
  .thumb div {
    padding:6px;
    text-align:center;
    font-size:0.9rem;
    background:#f9f9f9;
  }
  .thumb:hover { transform:scale(1.05); }
  .thumb.selected { border-color:var(--primary); }

  /* Selected URL */
  .urlbox {
    margin-top:18px;
    display:flex;
    gap:8px;
    flex-wrap:wrap;
    justify-content:center;
  }
  .urlbox input {
    flex:1;
    min-width:220px;
    padding:10px;
    border:1px solid #ddd;
    border-radius:var(--radius);
    font-size:0.95rem;
  }

  /* Mobile */
  @media (max-width:600px){
    .thumb { width:45%; }
    h1 { font-size:1.3rem; }
    .app { padding:15px; }
  }
</style>
</head>
<body>
<div class="app">
  <h1>Turis Tv</h1>
 

  <div class="row">
    <input id="urlInput" type="text" placeholder="Bijv. https://youtu.be/VIDEO_ID" />
    <button id="fetchBtn">Ophalen</button>
    <button id="clearBtn" style="background:#aaa;">Wissen</button>
  </div>

  <div id="message" style="text-align:center; margin-bottom:12px; color:#333;"></div>
  <div id="thumbs" class="thumbs"></div>

  <div id="selectedBox" class="urlbox" style="display:none;">
    <input id="selectedUrl" type="text" readonly />
    <button id="copyBtn">Kopieer</button>
    <a id="openBtn" href="#" target="_blank"><button>Open</button></a>
    <a id="downloadBtn" href="#" download><button>Download</button></a>
  </div>
</div>

<script>
function extractYouTubeID(url){
  if(!url) return null;
  if(/^[a-zA-Z0-9_-]{11}$/.test(url.trim())) return url.trim();
  try{
    const u=new URL(url,location.href);
    if(u.hostname.includes("youtube.com")){
      const v=u.searchParams.get("v");
      if(v) return v;
      const parts=u.pathname.split("/").filter(Boolean);
      if(parts[0]==="shorts"||parts[0]==="embed") return parts[1];
    }
    if(u.hostname==="youtu.be") return u.pathname.slice(1);
  }catch(e){}
  const m=url.match(/([0-9A-Za-z_-]{11})/);
  return m?m[1]:null;
}
const VARIANTS=["maxresdefault.jpg","sddefault.jpg","hqdefault.jpg","mqdefault.jpg","default.jpg"];
const fetchBtn=document.getElementById("fetchBtn");
const clearBtn=document.getElementById("clearBtn");
const urlInput=document.getElementById("urlInput");
const thumbs=document.getElementById("thumbs");
const message=document.getElementById("message");
const selectedBox=document.getElementById("selectedBox");
const selectedUrl=document.getElementById("selectedUrl");
const copyBtn=document.getElementById("copyBtn");
const openBtn=document.getElementById("openBtn");
const downloadBtn=document.getElementById("downloadBtn");

function generate(){
  thumbs.innerHTML=""; selectedBox.style.display="none"; message.textContent="";
  const id=extractYouTubeID(urlInput.value.trim());
  if(!id){message.textContent="Geen geldige link/ID.";return;}
  message.textContent="Video ID: "+id;
  VARIANTS.forEach(v=>{
    const url=`https://img.youtube.com/vi/${id}/${v}`;
    const div=document.createElement("div");
    div.className="thumb"; div.dataset.url=url;
    div.innerHTML=`<img src="${url}" alt="${v}" /><div>${v}</div>`;
    div.onclick=()=>select(div);
    thumbs.appendChild(div);
  });
}
function select(el){
  document.querySelectorAll(".thumb").forEach(t=>t.classList.remove("selected"));
  el.classList.add("selected");
  selectedUrl.value=el.dataset.url;
  selectedBox.style.display="flex";
  openBtn.href=el.dataset.url;
  downloadBtn.href=el.dataset.url;
}
copyBtn.onclick=async()=>{try{
  await navigator.clipboard.writeText(selectedUrl.value);
  copyBtn.textContent="✔"; setTimeout(()=>copyBtn.textContent="Kopieer",1200);
}catch(e){alert("Kopiëren mislukt");}};
fetchBtn.onclick=generate;
clearBtn.onclick=()=>{urlInput.value=""; thumbs.innerHTML=""; message.textContent=""; selectedBox.style.display="none";};
urlInput.addEventListener("keydown",e=>{if(e.key==="Enter") generate();});
</script>
</body>
</html>
